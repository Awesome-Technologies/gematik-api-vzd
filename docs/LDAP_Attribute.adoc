= üóÇÔ∏è LDAP-Attribute im gematik Verzeichnisdienst
:toc:
:toc-title: Inhaltsverzeichnis

== √úbersicht

[%autowidth.stretch]
|===
| Attribut | 0..N | Bezeichnung

3+s|Identifikatoren

m| <<telematikID>>
| 1..1
| Telematik-ID

m| <<domainID>>
| 1..N
| Sektor-ID

3+s|Namen
m| displayName
| 1..1
| Anzeigename
m| cn
| 1..1
| Name
m| otherName
| 0..1
| Alternativer Name
m| organization
| 0..1
| Organisation
m| givenName
| 0..1
| Vorname
m| sn
| 0..1
| Nachname
m| title
| 0..1
| Titel

3+s|Adressdaten
m| streetAddress
| 1..1
| Stra√üe und Hausnummer
m| postalCode
| 1..1
| PLZ
m| localityName
| 1..1
| Ort
m| stateOrProvinceName
| 1..1
| Bundesland oder Region
m| countryCode
| 1..1
| Landesk√ºrzel

3+s|Berufliche Informationen
m| professionOID
| 1..N
| Berufsgruppe
m| specialization
| 1..N
| Fachgebiet
m| entryType
| 1..1
| Typ des Eintags

3+s|Anwendungsdaten
m| mail
| 0..N
| KIM-Adresse

m| komLeData
| 0..N
| KIM-Adresse mit Version

3+s|Zertifikate
m| userCertificate
| 0..N
| Zertifikat

3+s|Systemdaten
m| dataFromAuthority
| 1..1
| Verwaltet durch Kartenherausgeber?
m| personalEntry
| 1..1
| Eintrag einer nat√ºrlichen Person?
m| changeDateTime
| 1..1
| Ge√§ndert am

|===

== Identifikatoren

=== `telematikID` [[telematikID]]

Telematik-ID ist ein eindeutiger Identifikator einer Institution oder einer Person in der TI.
Spezifiziert in https://fachportal.gematik.de/fachportal-import/files/gemSpec_PKI_V2.11.1.pdf[gemSpec_PKI], Kapitel 4.7.

=== `domainID` [[domainID]]

Die sektorspezifische Kennung einer Institution oder einer Person.

Per Eintag k√∂nnen mehrere Kennungen angeben werden. Im Gegensatz zu TelematikID sind die `domainID` nicht eindeutig k√∂nnen in mehreren Eintr√§gen gleichzeitig vorkommen.

Die Nutzung f√ºr die Sektoren wird in Kapitel *Attributtabellen* von Dokument https://fachportal.gematik.de/fileadmin/Fachportal/Downloadcenter/Implementierungsleitfaeden/gemILF_Pflege_VZD_V1.5.1.pdf[gemILF_Pflege_VZD] beschrieben.

* Kassen√§rztliche Vereinigungen (SMC-B-Eintrag): Betriebsst√§ttennummer der Praxis
* Kassenzahn√§rztliche Vereinigungen (SMC-B Eintrag): Abrechnungsnummer
* SMC-B-Eintrag f√ºr Apotheken: Nicht verwendet
* HBA-Eintrag f√ºr Apotheker: Spezifisches Kennzeichen der Apotheker. Kann mehrfach vorkommen (0..100).
* Krankenh√§user (SMC-B-Eintrag): Betriebsst√§ttennummer des Krankenhauses
* Psychotherapeuten (HBA-Eintrag): Spezifisches Kennzeichen der Psychotherapeuten. Kann mehrfach vorkommen (0..100).
* √Ñrzte (HBA-Eintrag): Spezifisches Kennzeichen der √Ñrzte. Kann mehrfach vorkommen (0..100).
* Zahn√§rzte (HBA-Eintrag): Spezifisches Kennzeichen der Zahn√§rzte. Kann mehrfach vorkommen (0..100).
* Gesetzlichen Krankenkassen (SMC-B-Eintrag): Institutionskennzeichen. Kann mehrfach vorkommen (0..100).


== Namen

[cols="1,2,6"]
|===
| Attribut  | Bezeichner | Anmerkungen

.2+| `displayName`
.2+| Anzeigename
a| _Person (HBA)_

Dieses Attribut wird genutzt, um vollen Namen einer Person gegen√ºber dem Anwender darzustellen. Es wird empfohlen den Namen wie folgt anzugeben:

----
Nachname, Vorname(n)
M√ºstermann, Manfred
----

Spezifiziert in https://datatracker.ietf.org/doc/html/rfc2798#section-2.3[RFC2798 Section 2.3]

a| _Institution (SMC-B)_

Dieses Attribut wird genutzt, um  Namen einer Institution gegen√ºber dem Anwender darzustellen.


| `cn`
| Name
| Eindeutiger Name einer Person oder Institution.
LDAP unterst√ºtzt grunds√§tzlich mehrere Namen eines Objekts, in der TI wird jedoch meistens nur ein `cn`-Attribut verwendet, daher ist `cn` in der Regel identisch mit `displayName`.

Spezifiziert in https://datatracker.ietf.org/doc/html/rfc2256#section-5.4[RFC2256 Section 5.4]

| `otherName`
| Weitere Name(n)
| Es wird nicht mehr empfohlen dieses Attribut zu verwenden.

| `organization`
| Organization
| Es wird nicht mehr empfohlen dieses Attribut zu verwenden.

| `givenName`
| Vorname
| Nachnamen sollen nur bei nat√ºrlichen Personen bef√ºllt sein.
Spezifiziert in https://datatracker.ietf.org/doc/html/rfc2256#section-5.43[RFC2256 Section 5.43]

| `sn`
| Nachname
| Nachnamen sollen nur bei nat√ºrlichen Personen bef√ºllt sein.
Spezifiziert in https://datatracker.ietf.org/doc/html/rfc2256#section-5.5[RFC2256 Section 5.5]

| `title`
| Akademischer oder Adelstitel
| Spezifiziert in https://datatracker.ietf.org/doc/html/rfc2256#section-5.13[RFC2256 Section 5.13]

|===

== Adressdaten

[cols="1,2,6"]
|===
| Attribut  | Bezeichnung | Anmerkungen

| `streetAddress`
| Stra√üe und Hausnummer
| Spezifiziert in https://datatracker.ietf.org/doc/html/rfc2256#section-5.10[RFC2256 Section 5.10]

Kann als `street` abgek√ºrzt werden

| `postalCode`
| PLZ
| Spezifiziert in https://datatracker.ietf.org/doc/html/rfc2256#section-5.18[RFC2256 Section 5.18]

| `localityName`
| Ort
| Spezifiziert in https://datatracker.ietf.org/doc/html/rfc2256#section-5.8[RFC2256 Section 5.8]

Kann als `l` abgek√ºrzt werden

| `stateOrProvinceName`
| Bundesland oder Region
a|

<<valueset_cn>>

Spezifiziert ib https://datatracker.ietf.org/doc/html/rfc2256#section-5.9[RFC2256 Section 5.9]

Kann als `st` abgek√ºrzt werden

| `countryCode`
| Landesk√ºrzel
| Zweistelliger Landesk√ºrzel aus dem Wertebereich https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2[ISO 3166-1 alpha-2]


|===

[#valueset_cn]
=== Wertebereich f√ºr `stateOrProvinceName`

.G√ºltige Werte f√ºr Deutschland:
* Baden-W√ºrttemberg
* Bayern
* Berlin
* Brandenburg
* Bremen
* Hamburg
* Hessen
* Mecklenburg-Vorpommern
* Niedersachsen
* Nordrhein-Westfalen
* Rheinland-Pfalz
* Saarland
* Sachsen
* Sachsen-Anhalt
* Schleswig-Holstein
* Th√ºringen

.Zus√§tzliche KV-Regionen:
* Nordrhein
* Westfalen-Lippe

== Berufliche Informationen

[cols="1,2,6"]
|===
| Attribut  | Bezeichnung | Anmerkungen


| `professionOID`
| Berufsgruppe
| Wertebereich gem√§√ü https://fachportal.gematik.de/fachportal-import/files/gemSpec_OID_V3.11.0.pdf[gemSpec_OID]

| `specialization`
| Fachgebiet
a| Der Wertebereich entspricht den in hl7 definierten und f√ºr ePA festgelegten Werten:

* https://wiki.hl7.de/index.php?title=IG:Value_Sets_f√ºr_XDS#DocumentEntry.practiceSettingCode[PracticeSettingCode]
* https://github.com/hl7germany/de.basisprofil.terminology/blob/3917ab759560993f9486562af6811765e357b8fc/input/fsh/codesystems/AerztlicheFachrichtungenIHEXDS.fsh[http://ihe-d.de/CodeSystems/AerztlicheFachrichtungen]
* https://github.com/hl7germany/de.basisprofil.terminology/blob/3917ab759560993f9486562af6811765e357b8fc/input/fsh/codesystems/NichtAerztlicheFachrichtungenIHEXDS.fsh[http://ihe-d.de/CodeSystems/NichtaerztlicheFachrichtungen]

Bildungsregel: +
`urn:psc:{OID Codesystem}:{Code}`

Beispiel f√ºr Allgemeinmedizin: +
`urn:psc:1.3.6.1.4.1.19376.3.276.1.5.4:ALLG`

| `entryType`
| Typ des Eintags
| Das Attribut wird autmatisch aus `professionOID` berechnet. Werte werden prim√§r durch ePA verwendet.

|===

== Anwendungsdaten

[cols="1,2,6"]
|===
| Attribut  | Bezeichnung | Anmerkungen

| `mail`
| KIM-Adresse
a| Liste aller KIM-Adressen einer Person oder einer Institution. Zur Kompatibilit√§t bleibt die KIM Mail Adresse in diesem Attribut zus√§tzlich zum Attribut  `komLeData` erhalten.
----
mail: adresse1@anbieter.kim.telematik
mail: adresse2@anbieter.kim.telematik
----

| `komLeData`
| KIM-Adresse
a| Liste von KIM-Adressen mit der zugeh√∂rigen KIM-Version
----
komLeData: 1.0,adresse1@anbieter.kim.telematik
komLeData: 1.5,adresse2@anbieter.kim.telematik
----


|===

== Zertifikate

[cols="1,2,6"]
|===
| Attribut  | Bezeichnung | Anmerkungen

| `userCertificate`
| Zertifikat
| X509-Zertifikate werden f√ºr Verschl√ºsselung der KIM-Nachrichten  sowie bei der Berechtigungserteilung in der ePA verwendet

|===

== Systemdaten

|===
| Attribut  | Beschreibung | Anmerkungen

| `holder`
| Verwaltet durch
| Enth√§lt eine Liste von Organisationen, die f√ºr die Administration dieses Datensatzes berechtigt sind.

| `dataFromAuthority`
| Gepr√ºfte Daten?
| Enth√§lt `TRUE` wenn die Daten durch einen Kartenherausgeber eingestellt wurden.

| `personalEntry`
| Eintrag einer nat√ºrlichen Person
| Enth√§lt `TRUE` wenn Eintrag eine nat√ºrliche Person beschreibt (einen Leistungsebringer)

`changeDateTime`
| Ge√§ndert
| Zeitstempel der letzten √Ñnderung, wird bei jeder Aktualisierung auf aktuelle Systemzeit ge√§ndert.



|===

== Beispiele

=== Verwirrende Suchergebnisse

|===
^| Name | Nachname | Vorname | E-Mail | Adresse | PLZ | Ort

| Herr Dr. med. Michael Guttenberg  
| Herr Dr. med. Michael Guttenberg
|
| praxis.guttenberg@...kim 
| Bahnhof Str. 13
| 91234
| N√ºrnberg

| Martina Anna Berg
| Berg
| Martina Anna
|  
| Dillingerstr. 21
| 88451
| Dettingen

| Praxis Martina Berg
| Praxis Martina Berg
| 
| martinaberg@...kim
| Dillinger Stra√üe 21
| 88451
| Dettingen


|===


=== Darstellung von Personen und Institutionen in einer Liste

|===
^| Typ | Name | Nachname | Vorname | Adresse | PLZ | Ort

^| üè•
| Praxis Helga Freifrau Mondw√ºrfel
|
|
| Bahnhof Str. 13
| 91234
| N√ºrnberg

^| üë©‚Äç‚öïÔ∏è
| Oldenburg, Petra
| Oldenburg
| Petra
| Hallesches Ufer 21
| 88451
| Dettingen

^| `personalEntry`
| `displayName`
| `sn`
| `givenName`
| `street`
| `postalCode`
| `localityName`
|===


== Wer kann Attribute im LDAP VZD bef√ºllen und √§ndern


:table-caption!:
[options="header"]
[cols="2s,^1,^1,^1,^1"]
|===
|LDAP-Directory Attribut|       | Zertifikat    | Client    | KIM Anbieter 
|givenName              | HBA   |  x            |           | 
|                       | SMC-B 3+| nicht verwendet 
|sn                     | HBA   |  x            |           | 
|                       | SMC-B 3+| Vom VZD als Kopie des Attributs displayName eingetragen
|cn                     | HBA   3+| Vom VZD als Kopie des Attributs displayName eingetragen
|                       | SMC-B 3+| Vom VZD als Kopie des Attributs displayName eingetragen 
|displayName            | HBA   |               |  x     | 
|                       | SMC-B |               |  x     | 
|streetAddress          | HBA   |               |  x     | 
|                       | SMC-B |               |  x     | 
|postalCode             | HBA   |               |  x     | 
|                       | SMC-B |               |  x     | 
|countryCode            | HBA   |               |  x     | 
|                       | SMC-B |               |  x     | 
|localityName           | HBA   |               |  x     | 
|                       | SMC-B |               |  x     | 
|stateOrProvinceName    | HBA   |               |  x     | 
|                       | SMC-B |               |  x     | 
|title                  | HBA   |               |  x     | 
|                       | SMC-B 3+| nicht verwendet  
|organization           | HBA   |               |  x     | 
|                       | SMC-B |               |  x     | 
|otherName              | HBA   |               |  x     | 
|                       | SMC-B |               |  x     | 
|specialization         | HBA   |               |  x     | 
|                       | SMC-B |               |  x     | 
|domainID               | HBA   |               |  x     | 
|                       | SMC-B |               |  x     | 
|holder                 | HBA   |               |  x     | 
|                       | SMC-B |               |  x     | 
|maxKOMLEadr            | HBA   |               |  x     | 
|                       | SMC-B |               |  x     | 
|personalEntry          | HBA   |  x            |        | 
|                       | SMC-B |  x            |        | 
|dataFromAuthority      | HBA   3+| wird vom VZD eingetragen
|                       | SMC-B 3+| wird vom VZD eingetragen
|userCertificate        | HBA   |               |  x     | 
|                       | SMC-B |               |  x     | 
|entryType              | HBA   | x             |        | 
|                       | SMC-B | x             |        | 
|telematikID            | HBA   | x             |  x     | 
|                       | SMC-B | x             |  x     | 
|professionOID          | HBA   | x             |        | 
|                       | SMC-B | x             |        | 
|usage                  | HBA   |               |  x     | 
|                       | SMC-B |               |  x     | 
|description            | HBA   |               |  x     | 
|                       | SMC-B |               |  x     | 
|mail                   | HBA   |               |        |  x 
|                       | SMC-B |               |        |  x
|komLeData              | HBA   |               |        |  x 
|                       | SMC-B |               |        |  x
|changeDateTime         | HBA   3+| wird vom VZD eingetragen
|                       | SMC-B 3+| wird vom VZD eingetragen
|===

Erl√§uterungen zu den Spalten:

* Zertifikat
- Der Wert f√ºr das LDAP Attribut wird dem Zertifikat entnommen.
- Bei Hinzuf√ºgen eines Zertifikats wird das LDAP Attribut aktualisiert.

* Client
- Der Wert f√ºr das LDAP Attribut wird durch den Client des Kartenherausgebers gepflegt.

* KIM Anbieter
- Der Wert f√ºr das LDAP Attribut wird durch den KIM-Abieter gepflegt.


|===
