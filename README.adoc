= Verzeichnisdienst - API-Dokumentation
gematik, Systems Engineering
:source-highlighter: rouge
:title-page:
:sectnums:
:imagesdir: images/
//:toc:
//:toclevels: 3
//:toc-title: Inhaltsverzeichnis

image::gematik_logo.png[gematik]

== Allgemeines

Die folgende Dokumentation beschreibt wie der Verzeichnisdienst der Telematikinfrastruktur genutzt werden kann.
Insbesondere welche Daten im FHIR-Directory gespeichert werden und welche Bedeutung sie haben, wird beschrieben.
Die Schnittstellen des Verzeichnisdienstes sind in Spezifikationen der gematik definiert:

* image:https://shields.io/badge/gemSpec__VZD-v1.13.1-blue[link="https://fachportal.gematik.de/fachportal-import/files/gemSpec_VZD_V1.13.1.pdf"]
image:https://shields.io/badge/v1.13.0-blue[link="https://fachportal.gematik.de/fachportal-import/files/gemSpec_VZD_V1.13.0.pdf"]
image:https://shields.io/badge/v1.12.0-blue[link="https://fachportal.gematik.de/fachportal-import/files/gemSpec_VZD_V1.12.0.pdf"]
* `gemSpec_FHIR_Directory`

Die Daten des LDAP-Directories sind im Implementierungsleitfaden zur Pflege der Daten des Verzeichnisdienstes beschrieben. 
Die Dokumente können im Fachportal der gematik gefunden werden: https://fachportal.gematik.de/downloadcenter.

== Systemarchitektur

Die folgende Abbildung gibt einen Überblick über die Systemarchitektur des Verzeichnisdienstes.

image::VZD_FHIR_Directory_Zerlegung.svg[VZD overview]

== FHIR-Directory Datenmodell

image::VZD_FHIR_Directory_Datenmodell.svg[Datenmodell]

=== TIOrganization

Die Ressource TIOrganization ist in Simplifier definiert (https://simplifier.net/vzd-fhir-directory/tiorganization) und ist ein Profil der Organization Ressource (https://www.hl7.org/fhir/organization.html#resource).
Die einzelnen Elemente der Ressource TIOrganization werden abhängig vom type der Organisation befüllt. Es wird unterschieden zwischen

- Organisationen mit einer zugewiesenen professionOID gemäß https://gematik.de/fhir/VZD-FHIR-Directory/CodeSystem/TIProfessionOidCS[TIProfessionOidCS] und
- Organisationen gemäß https://gematik.de/fhir/VZD-FHIR-Directory/CodeSystem/TIOrganizationTypeCS[TIOrganizationTypeCS] (TI-Messenger-Provider, KIM-Provider und Kartenherausgeber).

Die Organisationstypen mit dem jeweils verwendeten CodeSystem sind im Valueset https://simplifier.net/vzd-fhir-directory/tiorganizationtypevs[TIOrganizationTypeVS] festgelegt.
Dabei kann eine Organization Ressource auch mehrere type Elemente haben. 


.Organisationen mit professionOID
|===
|Element / Attribut |Wert |Beschreibung 

|*identifier.system* _(mustsupport)_
|http://fhir.de/StructureDefinition/identifier-telematik-id[identifier-telematik-id]
|Die telematikID ist im FHIR Basisprofil von HL7 Deutschland definiert.

|*identifier.value* _(mustsupport)_
|telematikID
|Die telematikID wird vom Verband der Organisation vergeben (z. B. von der KV für Arztpraxen)

|*active* _(mustsupport)_
|true oder false
|

|*type.system* _(mustsupport)_ 
|https://gematik.de/fhir/VZD-FHIR-Directory/CodeSystem/TIProfessionOidCS[TIProfessionOidCS]
|

|*type.code* _(mustsupport)_
|Code aus https://simplifier.net/vzd-fhir-directory/tiorganizationtypevs[TIOrganizationVS]
|

|*type.display* _(mustsupport)_
|Display aus https://simplifier.net/vzd-fhir-directory/tiorganizationtypevs[TIOrganizationVS]
|
|===

==== TI-Messenger-Provider

==== Kartenherausgeber


=== TIPractitioner

=== HealthcareService

=== PractitionerRole

=== Location

=== Endpoint
